# Fan Behavior During Boot Sequence
Generally speaking, most server fan controls go through several distinct stages during boot-up. Their behavior may vary slightly depending on whether or not the restart is "warm" or "cold," but regardless UFC cannot be in control of the fans during these processes. During this stage - and until the UFC Service Launcher is initialized - all fans will exhibit their default behavior pattern, which is governed by the BIOS, middleware firmware, and/or directly via the BMC's own firmware.

Server-class motherboards typically run through the following fan behaviors sequentially on start-up (following bootloader). In some cases, it is possible for a user to modify the behavior, however doing so is beyond the scope of UFC and requires interacting with low-level switching mechanisms; for example, via a BIOS setting.

1. Pre-determined fan mode on hardware reset. The start-up fan level response is activated as soon as the server is powered-up or soft reset. The fan levels are controlled by physical hardware settings, as the BIOS has not yet initialized. There is no method for a user to control this fan mode setting under any circumstance.
2. Hardware initialization phase. The fan level response is taken over and controlled by the BIOS. The user _may_ be able to influence the fan mode in this stage. Whether or not that is true depends on the BIOS.
3. Possibly, the BMC takes over fan controls from the BIOS. This depends on BIOS and BMC configurations. The fan mode available is typically either automated based on chassis temperature, CPU temperature, or full blast. In unusual cases, the end user may be able to manipulate the fan behavior at this phase, but normally the fan behavior follows either a "last used" setting model, a "full speed" model, another pre-defined model (e.g. 30% power to all fan headers), or automatic based on various temperature sensors.
	- An example is Supermicro's fan speed settings in its BIOS, which tend to allow three or four options that all involve fixed values or pre-determined patterns. Thus, while the user has some choice, it is limited to a small menu of options.
4. Server operating system initializes. Software-based fan controls are now able to take over, by forcing non-persistent updates to the BMC's fan controller. This is when UFC takes over.

## Warm/Cold Start Effects on UFC
Warm and cold restarts may have slightly different fan speed ramp-up behaviors. Whether or not this is the case is entirely dependent on the BIOS and middleware firmware layer between IPMI and the physical BMC itself. The exact behaviors of any given server will depend on its motherboard, BIOS, BMC, and any required or optional behaviors hard-coded into the startup sequence prior to UFC's ability to take over.
